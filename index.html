<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>InfoskÃ¤rm</title>
  <style>
    :root {
      --overlay: rgba(0,0,0,.45);
      --text: #fff;
      --accent: #8cd1ff;
      --max-width: 1200px;
    }
    * { box-sizing: border-box; }
    html, body {
      height: 100%;
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      color: var(--text);
    }
    body {
      background: #000 url("./bg.jpg") center/cover no-repeat fixed;
    }
    .scrim {
      min-height: 100%;
      background: var(--overlay);
      display: grid;
      grid-template-rows: auto 1fr auto;
      padding: clamp(12px, 2vw, 24px);
    }
    header, footer, main {
      width: 100%;
      margin: 0 auto;
      max-width: var(--max-width);
    }
    header h1 {
      margin: 0;
      font-size: clamp(28px, 4vw, 48px);
      line-height: 1.1;
      letter-spacing: .5px;
      font-weight: 700;
      text-shadow: 0 2px 8px rgba(0,0,0,.35);
    }
    .clock {
      font-variant-numeric: tabular-nums;
      font-size: clamp(22px, 3vw, 36px);
      opacity: .95;
    }
    .grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: clamp(12px, 2vw, 20px);
      margin-top: clamp(10px, 2vw, 16px);
    }
    .card {
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 18px;
      padding: clamp(14px, 2.2vw, 22px);
      backdrop-filter: blur(6px);
      box-shadow: 0 8px 30px rgba(0,0,0,.25);
    }
    .message {
      font-size: clamp(20px, 2.6vw, 30px);
      line-height: 1.35;
    }
    .muted { opacity: .85; }
    footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      font-size: clamp(13px, 1.8vw, 16px);
      opacity: .9;
    }
    .badge {
      display: inline-block;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.25);
      background: rgba(255,255,255,.07);
    }
    @media (min-width: 900px) {
      .grid { grid-template-columns: 1.4fr .8fr; }
    }
    .sr-only {
      position: absolute !important; width: 1px; height: 1px; padding: 0; margin: -1px;
      overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;
    }
  </style>
</head>
<body>
  <div class="scrim">
    <header>
      <h1 id="title">InfoskÃ¤rm</h1>
      <div class="clock" id="clock" aria-live="polite">â€”:â€”</div>
    </header>

    <main class="grid">
      <section class="card">
        <h2 class="sr-only">Meddelande</h2>
        <div id="message" class="message">
          VÃ¤lkommen! LÃ¤gg till <span class="badge">?title=Rubrik&message=Ditt%20meddelande</span> i adressfÃ¤ltet fÃ¶r att Ã¤ndra texten.
        </div>
      </section>

      <aside class="card muted" id="side">
        <h2 class="sr-only">Info</h2>
        <div id="date">â€”</div>
        <div id="refreshHint" style="margin-top:8px;">Sidan uppdateras automatiskt var 10:e minut.</div>
      </aside>
    </main>

    <footer>
      <div>ðŸ“º InfoskÃ¤rm â€¢ <span id="tz"></span></div>
      <div class="badge" id="status">Online</div>
    </footer>
  </div>

  <script>
    // --- Helpers ---
    const $ = (id) => document.getElementById(id);
    const params = new URLSearchParams(location.search);

    // Title & message via URL params
    const title = params.get('title') || 'InfoskÃ¤rm';
    const message = params.get('message') || '';

    $('title').textContent = title;
    $('message').textContent = message || $('message').textContent;
    $('tz').textContent = Intl.DateTimeFormat().resolvedOptions().timeZone || 'Local time';

    // Clock (Swedish locale)
    function tick() {
      const now = new Date();
      const time = now.toLocaleTimeString('sv-SE', { hour: '2-digit', minute: '2-digit' });
      const date = now.toLocaleDateString('sv-SE', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
      $('clock').textContent = time;
      $('date').textContent = date.charAt(0).toUpperCase() + date.slice(1);
    }
    tick();
    setInterval(tick, 1000);

    // Auto-refresh every 10 minutes (change minutes as needed)
    const minutes = Number(params.get('refreshMinutes') || 10);
    if (minutes > 0) {
      setTimeout(() => location.reload(), minutes * 60 * 1000);
      $('refreshHint').textContent = `Sidan uppdateras automatiskt var ${minutes} minut${minutes === 1 ? '' : 'er'}.`;
    } else {
      $('refreshHint').textContent = `Automatisk uppdatering avstÃ¤ngd.`;
    }

    // Simple online/offline indicator
    const setStatus = () => $('status').textContent = navigator.onLine ? 'Online' : 'Offline';
    window.addEventListener('online', setStatus);
    window.addEventListener('offline', setStatus);
    setStatus();
  </script>
</body>
</html>
